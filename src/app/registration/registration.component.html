<section class="vh-100">
    <div class="toast-container position-fixed top-0 start-0 p-3" style="z-index: 9999;">
        @if (showToast) {
        <ngb-toast header="Registration Failed" [autohide]="true" [delay]="3000" (hidden)="showToast = false"
            class="bg-danger text-white border-0">
            Duplicate email found.
        </ngb-toast>
        }
    </div>
    <div class="container-fluid h-100">
        <div class="row h-100">
            <div class="col-sm-6 text-black d-flex align-items-center">
                <div class="w-100 px-5 ms-xl-4">
                    <!-- Logo section -->
                    <div class="mb-5">
                        <!-- <i class="fas fa-crow fa-2x me-3" style="color: #709085;"></i> -->
                        <span class="h1 text-danger fw-bold mb-0">Evontiq</span>

                    </div>

                    <!-- Sign In Form -->
                    <form *ngIf="!showRegistrationForm" [formGroup]="signInForm" (ngSubmit)="onSignInSubmit()"
                        style="max-width: 23rem;">

                        <h3 class="fw-normal mb-4 pb-3" style="letter-spacing: 1px;">Log in</h3>

                        <div class="form-outline mb-4">
                            <input type="email" id="signInEmail" class="form-control form-control-lg"
                                formControlName="email" placeholder="Email address" />
                            <div *ngIf="signInForm.get('email')?.invalid && (signInForm.get('email')?.dirty || signInForm.get('email')?.touched)"
                                class="text-danger small mt-1">
                                <div *ngIf="signInForm.get('email')?.errors?.['required']">Email is required.</div>
                                <div *ngIf="signInForm.get('email')?.errors?.['email']">Please enter a valid email.
                                </div>
                            </div>
                        </div>

                        <!-- ! Password field with eye toggle -->
                        <mat-form-field appearance="outline" class="w-100 mb-4">
                            <mat-label>Password</mat-label>
                            <input matInput [type]="hideSignInPassword ? 'password' : 'text'" formControlName="password"
                                required>
                            <button mat-icon-button matSuffix (click)="hideSignInPassword = !hideSignInPassword"
                                type="button" [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hideSignInPassword">
                                <mat-icon>{{hideSignInPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-error *ngIf="signInForm.get('password')?.hasError('required')">
                                Password is required
                            </mat-error>
                        </mat-form-field>

                        <div class="pt-1 mb-4">
                            <button class="btn btn-primary btn-lg w-100" type="submit"
                                [disabled]="signInForm.invalid">Login</button>
                        </div>

                        <p class="small mb-3"><a class="text-muted" href="#!">Forgot password?</a></p>
                        <p>Don't have an account? <a href="javascript:void(0)" class="link-info"
                                (click)="onSignUpClick()">Register here</a></p>
                    </form>

                    <!-- Sign Up Form -->
                    <form *ngIf="showRegistrationForm" [formGroup]="signUpForm" (ngSubmit)="onSignUpSubmit()"
                        style="max-width: 23rem;">

                        <h3 class="fw-normal mb-4 pb-3" style="letter-spacing: 1px;">Create Account</h3>

                        <div class="form-outline mb-4">
                            <input type="text" id="signUpName" class="form-control form-control-lg"
                                formControlName="name" placeholder="Full Name" />
                            <div *ngIf="signUpForm.get('name')?.invalid && (signUpForm.get('name')?.dirty || signUpForm.get('name')?.touched)"
                                class="text-danger small mt-1">
                                <div *ngIf="signUpForm.get('name')?.errors?.['required']">Name is required.</div>
                                <div *ngIf="signUpForm.get('name')?.errors?.['pattern']">Name should be alphabetical
                                </div>
                            </div>
                        </div>

                        <div class="form-outline mb-4">
                            <input type="text" id="signUpUserId" class="form-control form-control-lg"
                                formControlName="userId" placeholder="User ID" />
                            <div *ngIf="signUpForm.get('userId')?.invalid && (signUpForm.get('userId')?.dirty || signUpForm.get('userId')?.touched)"
                                class="text-danger small mt-1">
                                <div *ngIf="signUpForm.get('userId')?.errors?.['required']">User ID is required.</div>
                                <div *ngIf="signUpForm.get('userId')?.errors?.['minlength']">User ID must be at least 3
                                    characters.</div>
                            </div>
                        </div>

                        <div class="form-outline mb-4">
                            <input type="email" id="signUpEmail" class="form-control form-control-lg"
                                formControlName="email" placeholder="Email address" />
                            <div *ngIf="signUpForm.get('email')?.invalid && (signUpForm.get('email')?.dirty || signUpForm.get('email')?.touched)"
                                class="text-danger small mt-1">
                                <div *ngIf="signUpForm.get('email')?.errors?.['required']">Email is required.</div>
                                <div *ngIf="signUpForm.get('email')?.errors?.['email']">Please enter a valid email.
                                </div>
                            </div>
                        </div>

                        <div class="form-outline mb-4">
                            <input type="tel" id="signUpPhone" class="form-control form-control-lg"
                                formControlName="phone" placeholder="Phone Number" />
                            <div *ngIf="signUpForm.get('phone')?.invalid && (signUpForm.get('phone')?.dirty || signUpForm.get('phone')?.touched)"
                                class="text-danger small mt-1">
                                <div *ngIf="signUpForm.get('phone')?.errors?.['required']">Phone number is required.
                                </div>
                                <div *ngIf="signUpForm.get('phone')?.errors?.['pattern']">Phone should be Numeric of 10
                                    digit number.</div>
                                <div *ngIf="signUpForm.get('phone')?.errors?.['minlength']">Phone number must be at
                                    least 10 digits.</div>
                            </div>
                        </div>

                        <!-- ! Sign Up Password field with eye toggle -->
                        <mat-form-field appearance="outline" class="w-100 mb-4">
                            <mat-label>Password</mat-label>
                            <input matInput [type]="hideSignUpPassword ? 'password' : 'text'" formControlName="password"
                                required>
                            <button mat-icon-button matSuffix (click)="hideSignUpPassword = !hideSignUpPassword"
                                type="button" [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hideSignUpPassword">
                                <mat-icon>{{hideSignUpPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-error *ngIf="signUpForm.get('password')?.hasError('required')">
                                Password is required
                            </mat-error>
                            <mat-error *ngIf="signUpForm.get('password')?.hasError('minlength')">
                                Password must be at least 6 characters
                            </mat-error>
                        </mat-form-field>

                        <div class="pt-1 mb-4">
                            <button class="btn btn-primary btn-lg w-100" type="submit"
                                [disabled]="signUpForm.invalid">Sign Up</button>
                        </div>

                        <p>Already have an account? <a href="javascript:void(0)" class="link-info"
                                (click)="onSignInClick()">Login here</a></p>
                    </form>
                </div>
            </div>

            <div class="col-sm-6 px-0 d-none d-sm-block glass-bg">
                <div class="glass-card">
                    <div class="text-center">
                        <i class="fas fa-rocket fa-4x text-primary mb-4"></i>
                        <h3 class="fw-bold mb-3">Launch Your Events</h3>
                        <p class="text-muted">Join thousands of event organizers who trust Evontiq to bring their
                            visions to life.</p>
                        <div class="stats mt-4">
                            <div class="stat-item">
                                <h4 class="fw-bold text-primary">10K+</h4>
                                <small class="text-muted">Events Created</small>
                            </div>
                            <div class="stat-item">
                                <h4 class="fw-bold text-primary">50K+</h4>
                                <small class="text-muted">Happy Users</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>