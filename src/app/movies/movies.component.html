<!-- Movie Details View (when a specific movie is selected) -->
<div *ngIf="movieData as movie" class="movie-details-container">
  <div class="movie-header">
    <img [src]="movie.PosterURL" alt="{{ movie.Name }}" class="movie-poster" />
    <div class="movie-info">
      <h1>{{ movie.Name }}</h1>
      <p class="tagline" *ngIf="movie.Tagline">"{{ movie.Tagline }}"</p>
      <ul class="meta-list">
        <li><strong>Category:</strong> {{ movie.Category }}</li>
        <li><strong>Location:</strong> {{ movie.Location }}</li>
        <li><strong>Date:</strong> {{ movie.Date | date:'MMM d, y' }}</li>
        <li *ngIf="movie.Language"><strong>Language:</strong> {{ movie.Language }}</li>
        <li *ngIf="movie.Format"><strong>Format:</strong> {{ movie.Format }}</li>
      </ul>
    </div>
  </div>

  <div class="booking-section">
    <div class="booking-details">
      <div>
        <h3>{{ movie.Venue || 'Cinépolis VIP Season Pune' }}</h3>
        <p>Seasons Mall, Magarpatta Police Station Rd, Hadapsar, Pune, Maharashtra 411028</p>
      </div>
      <div class="booking-actions">
        <button class="showtime-btn">
          {{ movie.Language || 'Hindi' }} {{ movie.Format || '2D' }} - {{ movie.Showtime || '11:05 PM' }}
        </button>
        <button class="book-btn" (click)="bookTickets(movie)">
          🎟️ Book Tickets
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Filtered Movie Cards (when no specific movie is selected) -->
<div *ngIf="!movieData" class="movies-page">
  <h2>🎥 Movies</h2>
  <div class="card-container">
    <div *ngFor="let movie of filteredMovies" class="movie-card" (click)="goToDetails(movie)">
      <div class="poster-wrapper">
        <img [src]="movie.PosterURL" alt="{{ movie.Name }}" class="poster" />
      </div>
      <div class="movie-details">
        <h4 class="movie-title">{{ movie.Name }}</h4>
        <p class="movie-meta">{{ movie.Category }} • {{ movie.Location }}</p>
        <p class="movie-date">📅 {{ movie.Date | date:'MMM d, y' }}</p>
        <p class="movie-tagline" *ngIf="movie.Tagline">"{{ movie.Tagline }}"</p>
        <div class="card-actions">
          <button class="book-btn" (click)="bookTickets(movie); $event.stopPropagation()">
            🎟️ Book Now
          </button>
        </div>
      </div>
    </div>
  </div>
</div>